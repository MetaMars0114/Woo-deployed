/*! For license information please see main.1b7db3ae.chunk.js.LICENSE.txt */
(this["webpackJsonpcommunity-control-tools-front"]=this["webpackJsonpcommunity-control-tools-front"]||[]).push([[0],{14:function(t,e,r){"use strict";r.d(e,"g",(function(){return p})),r.d(e,"j",(function(){return h})),r.d(e,"h",(function(){return f})),r.d(e,"c",(function(){return y})),r.d(e,"o",(function(){return b})),r.d(e,"q",(function(){return L})),r.d(e,"r",(function(){return O})),r.d(e,"u",(function(){return T})),r.d(e,"l",(function(){return D})),r.d(e,"s",(function(){return S})),r.d(e,"k",(function(){return C})),r.d(e,"d",(function(){return g})),r.d(e,"i",(function(){return d})),r.d(e,"p",(function(){return E})),r.d(e,"f",(function(){return m})),r.d(e,"n",(function(){return x})),r.d(e,"b",(function(){return w})),r.d(e,"e",(function(){return v})),r.d(e,"v",(function(){return N})),r.d(e,"t",(function(){return j})),r.d(e,"a",(function(){return _})),r.d(e,"m",(function(){return k}));var n=r(12),a=r(268),o=r.n(a).a.create({baseURL:"http://localhost:4002"}),i=r(90),u=r(24);r(300);function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(T){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=b(i,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=c(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=l;var p={};function h(){}function f(){}function d(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=d.prototype=h.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,u){var s=c(t[a],t,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):e.resolve(p).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,u)}))}u(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,p;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=d,u(g,"constructor",d),u(d,"constructor",f),f.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},_(w.prototype),u(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(l(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(g),u(g,i,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}var l=r(301),c=new(r(166).Client)("https://anyx.io"),p=function(){return function(){var t=Object(n.a)(s().mark((function t(e){var r,n,a,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=new i.a,n="",void 0===r.get("username")||void 0===r.get("token")||void 0===r.get("type")){t.next=12;break}return t.next=5,o.post("/auth/user",{username:r.get("username"),token:r.get("token"),type:r.get("type")});case 5:if("ok"!==(a=t.sent.data).status){t.next=12;break}return t.next=9,c.database.getAccounts([r.get("username")]);case 9:u=(u=t.sent)[0],n={username:r.get("username"),token:r.get("token"),hive_data:u,voting_power:Math.ceil(100*l.getvotingpower(u))/100,downvoting_power:Math.ceil(100*l.downvotingpower(u))/100,vp_threshold:a.vp_threshold,dv_threshold:a.dv_threshold,min_payout:a.min_payout,revote:a.revote,type:r.get("type")};case 12:e({type:"FETCH_LOGIN",payload:n});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(t){return function(){var e=Object(n.a)(s().mark((function e(r){var n,a,o,u,p,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new i.a,(a=new Date).setDate(a.getDate()+14),o=t.name,u="https://steemitimages.com/u/"+o+"/avatar",n.set("username",t.username,{path:"/",expires:a}),n.set("token",t.token,{path:"/",expires:a}),n.set("type","hivesigner",{path:"/",expires:a}),e.next=10,c.database.getAccounts([t.username]);case 10:p=(p=e.sent)[0],h={username:t.username,token:t.token,avatar:u,hive_data:p,voting_power:Math.ceil(100*l.getvotingpower(p))/100,downvoting_power:Math.ceil(100*l.downvotingpower(p))/100,vp_threshold:t.vp_threshold,dv_threshold:t.dv_threshold,min_payout:t.min_payout,revote:t.revote,type:"hivesigner"},r({type:"LOGIN",payload:h});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(t,e,r){return function(){var a=Object(n.a)(s().mark((function n(a){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/get_trail",{username:t,token:e,type:r});case 2:if("ok"!==(i=n.sent.data).status){n.next=5;break}return n.abrupt("return",a({type:"FETCH_TRAILS",payload:i.data}));case 5:case"end":return n.stop()}}),n)})));return function(t){return a.apply(this,arguments)}}()},d=function(t,e,r){return function(){var a=Object(n.a)(s().mark((function n(a){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/get_whitelist",{username:t,token:e,type:r});case 2:if("ok"!==(i=n.sent.data).status){n.next=5;break}return n.abrupt("return",a({type:"FETCH_WHITELIST",payload:i.data}));case 5:case"end":return n.stop()}}),n)})));return function(t){return a.apply(this,arguments)}}()},m=function(t,e,r){return function(){var a=Object(n.a)(s().mark((function n(a){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/get_hitlist",{username:t,token:e,type:r});case 2:if("ok"!==(i=n.sent.data).status){n.next=5;break}return n.abrupt("return",a({type:"FETCH_HITLIST",payload:i.data}));case 5:case"end":return n.stop()}}),n)})));return function(t){return a.apply(this,arguments)}}()},v=function(t,e,r){return function(){var a=Object(n.a)(s().mark((function n(a){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/get_vote_history",{username:t,token:e,type:r});case 2:if("ok"!==(i=n.sent.data).status){n.next=5;break}return n.abrupt("return",a({type:"FETCH_VOTES",payload:i.data}));case 5:case"end":return n.stop()}}),n)})));return function(t){return a.apply(this,arguments)}}()},y=function(t,e,r,a,i,l){return function(){var p=Object(n.a)(s().mark((function n(p){var h;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.database.getAccounts([a]);case 2:if(0!==n.sent.length){n.next=6;break}return u.a.error("User "+a+" doesn't exists"),n.abrupt("return");case 6:return n.next=8,o.post("/settings/add_trail",{username:t,token:e,type:r,trailed:a,ratio:i,trail_type:l});case 8:if("ok"!==(h=n.sent.data).status){n.next=13;break}return n.abrupt("return",p({type:"ADD_TRAIL",payload:{username:t,trailed:a,ratio:i,trail_type:l}}));case 13:"already exists"===h.error&&u.a.error("This user is already trailed, either in a negative or a normal trail");case 14:case"end":return n.stop()}}),n)})));return function(t){return p.apply(this,arguments)}}()},g=function(t,e,r,a){return function(){var i=Object(n.a)(s().mark((function n(i){var l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.database.getAccounts([a]);case 2:if(0!==n.sent.length){n.next=6;break}return u.a.error("User "+a+" doesn't exists"),n.abrupt("return");case 6:return n.next=8,o.post("/settings/add_whitelist",{username:t,token:e,type:r,trailed:a});case 8:if("ok"!==(l=n.sent.data).status){n.next=13;break}return n.abrupt("return",i({type:"ADD_WHITELIST",payload:{username:t,trailed:a}}));case 13:"already exists"===l.error&&u.a.error("This user is already in the whitelist");case 14:case"end":return n.stop()}}),n)})));return function(t){return i.apply(this,arguments)}}()},_=function(t,e,r,a){return function(){var i=Object(n.a)(s().mark((function n(i){var l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.database.getAccounts([a]);case 2:if(0!==n.sent.length){n.next=6;break}return u.a.error("User "+a+" doesn't exists"),n.abrupt("return");case 6:return n.next=8,o.post("/settings/add_counter_dv_blacklist",{username:t,token:e,type:r,trailed:a});case 8:if("ok"!==(l=n.sent.data).status){n.next=13;break}return n.abrupt("return",i({type:"ADD_COUNTER_DV_BLACKLIST",payload:{username:t,trailed:a}}));case 13:"already exists"===l.error&&u.a.error("This user is already in the counter downvote blacklist");case 14:case"end":return n.stop()}}),n)})));return function(t){return i.apply(this,arguments)}}()},w=function(t,e,r,a,i,l){return function(){var p=Object(n.a)(s().mark((function n(p){var h;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.database.getAccounts([a]);case 2:if(0!==n.sent.length){n.next=6;break}return u.a.error("User "+a+" doesn't exists"),n.abrupt("return");case 6:return n.next=8,o.post("/settings/add_hitlist",{username:t,token:e,type:r,author:a,percent:i,min_payout:l});case 8:if("ok"!==(h=n.sent.data).status){n.next=13;break}return n.abrupt("return",p({type:"ADD_HITLIST",payload:{username:t,author:a,percent:i,min_payout:l}}));case 13:"already exists"===h.error&&u.a.error("This user is already in the hitlist");case 14:case"end":return n.stop()}}),n)})));return function(t){return p.apply(this,arguments)}}()},b=function(t,e,r,a,i){return function(){var u=Object(n.a)(s().mark((function n(u){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/remove_trail",{username:t,token:e,type:r,trailed:a,trail_type:i});case 2:if("ok"!==n.sent.data.status){n.next=5;break}return n.abrupt("return",u({type:"REMOVE_TRAIL",payload:{trailed:a,trail_type:i}}));case 5:case"end":return n.stop()}}),n)})));return function(t){return u.apply(this,arguments)}}()},E=function(t,e,r,a){return function(){var i=Object(n.a)(s().mark((function n(i){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/remove_whitelist",{username:t,token:e,type:r,trailed:a});case 2:if("ok"!==n.sent.data.status){n.next=5;break}return n.abrupt("return",i({type:"REMOVE_WHITELIST",payload:{trailed:a}}));case 5:case"end":return n.stop()}}),n)})));return function(t){return i.apply(this,arguments)}}()},k=function(t,e,r,a){return function(){var i=Object(n.a)(s().mark((function n(i){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/remove_counter_dv_blacklist",{username:t,token:e,type:r,trailed:a});case 2:if("ok"!==n.sent.data.status){n.next=5;break}return n.abrupt("return",i({type:"REMOVE_COUNTER_DV_BLACKLIST",payload:{trailed:a}}));case 5:case"end":return n.stop()}}),n)})));return function(t){return i.apply(this,arguments)}}()},x=function(t,e,r,a){return function(){var i=Object(n.a)(s().mark((function n(i){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.post("/settings/remove_hitlist",{username:t,token:e,type:r,author:a});case 2:if("ok"!==n.sent.data.status){n.next=5;break}return n.abrupt("return",i({type:"REMOVE_HITLIST",payload:{author:a}}));case 5:case"end":return n.stop()}}),n)})));return function(t){return i.apply(this,arguments)}}()},L=function(t){return Object(n.a)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("/settings/update_user_settings",{username:t.username,token:t.token,type:t.type,settings:JSON.stringify({dv_threshold:t.dv_threshold,vp_threshold:t.vp_threshold,min_payout:t.min_payout,revote:t.revote})});case 2:"ok"===e.sent.data.status&&u.a.info("Settings saved");case 4:case"end":return e.stop()}}),e)})))},O=function(t){return function(){var e=Object(n.a)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({type:"SET_DV_THRESHOLD",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=function(t){return function(){var e=Object(n.a)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({type:"SET_VP_THRESHOLD",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(t){return function(){var e=Object(n.a)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({type:"SET_PAYOUT",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},j=function(){return function(){var t=Object(n.a)(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e({type:"SET_REVOTE"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(t,e,r){return function(){var a=Object(n.a)(s().mark((function n(a){var u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(u=new i.a).remove("login"),u.remove("username"),u.remove("token"),n.next=6,o.post("/auth/logout",{username:t,token:e,type:r});case 6:a({type:"LOGOUT",payload:""});case 7:case"end":return n.stop()}}),n)})));return function(t){return a.apply(this,arguments)}}()},N=function(t,e,r,a,i){return function(){var l=Object(n.a)(s().mark((function n(l){var c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l({type:"UNVOTING",payload:{author:a,permlink:i}}),n.next=3,o.post("/settings/unvote",{username:t,token:e,type:r,author:a,permlink:i});case 3:"ko"===(c=n.sent.data).status?(l({type:"UNVOTE_FAIL",payload:{author:a,permlink:i}}),u.a.error(c.data)):(u.a.info("Successfully unvoted @"+a+"/"+i),l({type:"UNVOTE",payload:{author:a,permlink:i}}));case 5:case"end":return n.stop()}}),n)})));return function(t){return l.apply(this,arguments)}}()},C=function(t,e){return function(){var r=Object(n.a)(s().mark((function r(n){var a,u,p,h,f,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.post("/auth/keychain/login",{username:t,encrypted_username:e});case 2:if(a=r.sent.data,console.log("data in login_keychain of action",a),"ok"!==a.status){r.next=19;break}return a=a.account,u=new i.a,(p=new Date).setDate(p.getDate()+14),h="https://steemitimages.com/u/"+t+"/avatar",u.set("username",a.username,{path:"/",expires:p}),u.set("token",a.token,{path:"/",expires:p}),u.set("type","keychain",{path:"/",expires:p}),r.next=15,c.database.getAccounts([t]);case 15:f=(f=r.sent)[0],d={username:t,token:a.token,avatar:h,hive_data:f,voting_power:Math.ceil(100*l.getvotingpower(f))/100,downvoting_power:Math.ceil(100*l.downvotingpower(f))/100,vp_threshold:a.vp_threshold,dv_threshold:a.dv_threshold,min_payout:a.min_payout,type:"keychain",revote:a.revote},n({type:"LOGIN",payload:d});case 19:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()}},269:function(t,e,r){"use strict";(function(t){var n=r(12),a=r(49),o=r(50),i=r(53),u=r(52),s=r(0),l=r.n(s),c=r(14),p=r(51);function h(){h=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(T){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new x(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return O()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=b(i,r);if(u){if(u===c)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(T){return{type:"throw",arg:T}}}t.wrap=s;var c={};function p(){}function f(){}function d(){}var m={};u(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&r.call(y,a)&&(m=y);var g=d.prototype=p.prototype=Object.create(m);function _(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,u){var s=l(t[a],t,o);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):e.resolve(p).then((function(t){c.value=t,i(c)}),(function(t){return n("throw",t,i,u)}))}u(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=d,u(g,"constructor",d),u(d,"constructor",f),f.displayName=u(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},_(w.prototype),u(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(g),u(g,i,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;k(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}var f=r(166),d=r(307),m=r(418),v=new f.Client("https://anyx.io"),y=r(422);r(167).config();var g=function(t){Object(i.a)(r,t);var e=Object(u.a)(r);function r(){var t;Object(a.a)(this,r);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(t=e.call.apply(e,[this].concat(i))).state={username:"",error:"",loginType:"",showBnt:!0},t.client=new f.Client("https://anyx.io"),t.login_hivesigner=function(){window.open("https://back.downvotecontrol.com/auth",""," scrollbars=yes,menubar=no,width=447,height=614, resizable=yes,toolbar=no,location=no,status=no")},t.display_login_keychain=function(){(console.log("props.logged_user",t.props.logged_user),window.hive_keychain)?window.hive_keychain.requestHandshake((function(){t.setState({loginType:"keychain"})})):t.setState({error:"You do not have hive keychain installed"})},t.send_login_token=Object(n.a)(h().mark((function e(){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=window.hive_keychain,e.next=3,_(t.state.username);case 3:n=e.sent,console.log("memo_fetching in send_login_token",n),"ok"===n.status?r.requestSignBuffer(t.state.username,n.message,"Posting",(function(e){!0===e.success&&(console.log("log in successed::: ",t.state.username),window.dragon.walletConnect(t.state.username))}),null,"SIGN WOO"):t.setState({error:"There was an error while fetching_memo"});case 6:case"end":return e.stop()}}),e)}))),t.login_keychain=function(){var e=Object(n.a)(h().mark((function e(r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),!window.hive_keychain){e.next=10;break}return window.hive_keychain.requestHandshake((function(){t.setState({loginType:"keychain"})})),e.next=6,t.client.database.getAccounts([t.state.username]);case 6:1===e.sent.length?t.send_login_token():t.setState({error:"Hive user not found"}),e.next=11;break;case 10:t.setState({error:"You do not have hive keychain installed"});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.login_with_username=function(){var e=Object(n.a)(h().mark((function e(r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("in login_with_username",t.state.username),window.dragon.walletConnect(t.state.username);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(o.a)(r,[{key:"render",value:function(){var t=this;return l.a.createElement(l.a.Fragment,null,this.state.showBnt&&l.a.createElement("div",{className:"wrapper fadeInDown",id:"keychain-modal"},l.a.createElement("div",{id:"formContent"},l.a.createElement("div",{className:"fadeIn first"},l.a.createElement("img",{src:"./hive_symbol.png",alt:"hive icon",style:{width:"150px"}})),l.a.createElement("br",null),l.a.createElement("span",{style:{color:"red"}},this.state.error),l.a.createElement("form",{onSubmit:this.login_keychain},l.a.createElement("input",{type:"text",placeholder:"Username",contentEditable:"true",value:this.state.username,onChange:function(e){return t.setState({username:e.target.value})}}),l.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:this.login_keychain,style:{backgroundColor:"white",color:"#999999",width:"235px",marginTop:"20px",border:"1px solid #999999",borderRadius:"0"}},"Sign in with keychain"),l.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:this.login_with_username,style:{backgroundColor:"white",color:"#999999",width:"235px",marginTop:"20px",border:"1px solid #999999",borderRadius:"0"}},"Log in with UserName")))))}}]),r}(l.a.Component);function _(t){return w.apply(this,arguments)}function w(){return(w=Object(n.a)(h().mark((function t(e){var r,n,a,o,i,u;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=m(e))&&r.length<16&&r.length>3)){t.next=22;break}return t.next=4,v.database.getAccounts([r]);case 4:if(n=t.sent,console.log("data in getting fetch memo",n),a=n[0].posting.key_auths[0][0],1!==n.length){t.next=21;break}return o="",t.next=11,b(r);case 11:return i=t.sent,u=i.encrypted,i.iv,u="#"+u,"5JRMuVZhkeE32Wfu1r62hr7jGdbmsXMPkgtC2Uid3pvhk9YSaQr",o=y.memo.encode("5JRMuVZhkeE32Wfu1r62hr7jGdbmsXMPkgtC2Uid3pvhk9YSaQr",a,u),console.log("encoded_message",o),t.abrupt("return",{status:"ok",message:o});case 21:return t.abrupt("return",{status:"ko"});case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e){return new Promise(function(){var r=Object(n.a)(h().mark((function r(n){var a,o,i,u,s;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log("in resolve"),console.log("initialisation_vector",e),!e){r.next=10;break}return r.next=5,E(e);case 5:a=r.sent,o=e,console.log("data",a),r.next=18;break;case 10:return r.next=12,E();case 12:a=r.sent,console.log("data",a),i=JSON.stringify(a.iv),(i=JSON.parse(i)).data||console.log(i),o=i.data.toString();case 18:return console.log("before encrypt:",t,a.iv.toString()),u=d.encryptText("aes-128-cbc",a.key,a.iv,t,"hex"),s="#"+u,console.log("after encrypt:",s),r.abrupt("return",n({encrypted:u,iv:o}));case 23:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}function E(e){return console.log("get_encryption_data",E),new Promise(function(){var r=Object(n.a)(h().mark((function r(n){var a,o,i;return h().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"1234567890123456",r.next=3,d.getKeyAndIV("1234567890123456");case 3:if(a=r.sent,!e){r.next=12;break}return e=e.split(",").map(Number),o=t.from(e),i=new Uint8Array(o),a.iv=i,r.abrupt("return",n(a));case 12:return r.abrupt("return",n(a));case 13:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}e.a=Object(p.b)((function(t){return{logged_user:t.user}}),{login:c.j,login_keychain:c.k})(g)}).call(this,r(8).Buffer)},277:function(t,e,r){t.exports=r(605)},301:function(t,e){t.exports={getvotingpower:function(t){var e=parseFloat(t.vesting_shares)+parseFloat(t.received_vesting_shares)-parseFloat(t.delegated_vesting_shares)-parseFloat(t.vesting_withdraw_rate),r=Math.floor(Date.now()/1e3)-t.voting_manabar.last_update_time,n=1e6*e,a=parseFloat(t.voting_manabar.current_mana)+r*n/432e3;return a>n&&(a=n),100*a/n},downvotingpower:function(t){var e=parseFloat(t.vesting_shares)+parseFloat(t.received_vesting_shares)-parseFloat(t.delegated_vesting_shares)-parseFloat(t.vesting_withdraw_rate),r=Math.floor(Date.now()/1e3)-t.downvote_manabar.last_update_time,n=1e6*e/4,a=parseFloat(t.downvote_manabar.current_mana)+r*n/432e3;return a>n&&(a=n),100*a/n}}},307:function(t,e,r){"use strict";(function(e){r(167).config();var n=r(91),a=r(392),o={CIPHERS:{AES_128:"aes128",AES_128_CBC:"aes-128-cbc",AES_192:"aes192",AES_256:"aes256"},getKeyAndIV:function(t){return new Promise((function(r){n.pseudoRandomBytes(16,(function(n,a){var o=t instanceof e?t:e.from(t);return console.log("in getKeyAndIV",o),r({iv:a,key:o})}))}))},encryptText:function(t,e,r,n,o){return a.AES.encrypt(n,r.toString())},decryptText:function(t,e,r,n,o){return a.AES.decrypt(n,r.toString())}};t.exports=o}).call(this,r(8).Buffer)},308:function(t,e){},310:function(t,e){},322:function(t,e){},324:function(t,e){},350:function(t,e){},351:function(t,e){},357:function(t,e){},376:function(t,e){},393:function(t,e){},462:function(t,e){},468:function(t,e){},605:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(16),i=r.n(o),u=r(51),s=r(88),l=r(275),c=r(49),p=r(50),h=r(53),f=r(52),d=r(273),m=r(20),v=r(12),y=r(14),g=r(269),_=r(276),w=r(54),b=r(24),E=(r(524),r(5)),k=r(61),x=(r(541),r(272)),L=r(111),O=r.n(L);function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=w(i,r);if(u){if(u===c)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var c={};function p(){}function h(){}function f(){}var d={};u(d,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=f.prototype=p.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,u){var s=l(t[a],t,o);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):e.resolve(p).then((function(t){c.value=t,i(c)}),(function(t){return n("throw",t,i,u)}))}u(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,u(y,"constructor",f),u(f,"constructor",h),h.displayName=u(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(_.prototype),u(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new _(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),u(y,i,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}var S=r(256),j=function(t){Object(h.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).state={trail_username:"",trail_ratio:1,hitlist_percent:50,hitlist_min_payout:5},t.trailed_schema=S.object().keys({username:S.string().min(3).max(16).required(),ratio:S.number().min(.01).max(2.5)}),t.whitelist_schema=S.object().keys({username:S.string().min(3).max(16).required()}),t.counter_dv_blacklist_schema=S.object().keys({username:S.string().min(3).max(16).required()}),t.hitlist_schema=S.object().keys({username:S.string().min(3).max(16).required(),percent:S.number().min(.01).max(100),min_payout:S.number().min(.01)}),t.remove_trail=function(e,r){t.props.removeTrail(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,e,r)},t.remove_whitelist=function(e){t.props.removeWhitelist(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,e)},t.remove_counter_dv_blacklist=function(e){t.props.removeCounterDvBlacklist(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,e)},t.remove_hitlist=function(e){t.props.removeHitlist(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,e)},t.save_settings=function(e){e.preventDefault(),t.props.saveSettings(t.props.logged_user)},t.save_min_payout=function(e){e.preventDefault(),t.props.saveMinPayout(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,t.props.logged_user.min_payout)},t.render_negative_trails=function(){for(var e=[],r=function(r){e.push(a.a.createElement("tr",null,a.a.createElement("td",null,t.props.data.negative_trail[r].trailed),a.a.createElement("td",null,t.props.data.negative_trail[r].ratio),a.a.createElement("td",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.remove_trail(t.props.data.negative_trail[r].trailed,-1)}},"Delete"))))},n=0;n<t.props.data.negative_trail.length;n++)r(n);return e},t.render_positive_trails=function(){for(var e=[],r=function(r){e.push(a.a.createElement("tr",null,a.a.createElement("td",null,t.props.data.positive_trail[r].trailed),a.a.createElement("td",null,t.props.data.positive_trail[r].ratio),a.a.createElement("td",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.remove_trail(t.props.data.positive_trail[r].trailed,1)}},"Delete"))))},n=0;n<t.props.data.positive_trail.length;n++)r(n);return e},t.render_whitelist=function(){for(var e=[],r=function(r){e.push(a.a.createElement("tr",null,a.a.createElement("td",null,t.props.data.whitelist[r].trailed),a.a.createElement("td",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.remove_whitelist(t.props.data.whitelist[r].trailed)}},"Delete"))))},n=0;n<t.props.data.whitelist.length;n++)r(n);return e},t.render_counter_downvote_blacklist=function(){for(var e=[],r=function(r){e.push(a.a.createElement("tr",null,a.a.createElement("td",null,t.props.data.counter_dv_blacklist[r].trailed),a.a.createElement("td",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.remove_counter_dv_blacklist(t.props.data.counter_dv_blacklist[r].trailed)}},"Delete"))))},n=0;n<t.props.data.counter_dv_blacklist.length;n++)r(n);return e},t.render_hitlist=function(){for(var e=[],r=function(r){e.push(a.a.createElement("tr",null,a.a.createElement("td",null,t.props.data.hitlist[r].author),a.a.createElement("td",null,t.props.data.hitlist[r].percent," %"),a.a.createElement("td",null,t.props.data.hitlist[r].min_payout," $"),a.a.createElement("td",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.remove_hitlist(t.props.data.hitlist[r].author)}},"Delete"))))},n=0;n<t.props.data.hitlist.length;n++)r(n);return e},t.render_counter_downvote_trail=function(){for(var e=[],r=function(r){e.push(a.a.createElement("tr",null,a.a.createElement("td",null,t.props.data.counter_trail[r].trailed),a.a.createElement("td",null,t.props.data.counter_trail[r].ratio),a.a.createElement("td",null,a.a.createElement("button",{className:"btn btn-primary",onClick:function(){return t.remove_trail(t.props.data.counter_trail[r].trailed,2)}},"Delete"))))},n=0;n<t.props.data.counter_trail.length;n++)r(n);return e},t.add_trail=function(e,r){e.preventDefault();var n=S.validate({username:t.state.trail_username,ratio:t.state.trail_ratio},t.trailed_schema);null===n.error?t.props.addToTrail(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,t.state.trail_username,t.state.trail_ratio,r):b.a.error(n.error.details[0].message)},t.add_whitelist=function(e){e.preventDefault();var r=S.validate({username:t.state.trail_username},t.whitelist_schema);null===r.error?t.props.addToWhitelist(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,t.state.trail_username):b.a.error(r.error.details[0].message)},t.add_counter_dv_blacklist=function(e){e.preventDefault();var r=S.validate({username:t.state.trail_username},t.counter_dv_blacklist_schema);null===r.error?t.props.addToCounterDvBlacklist(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,t.state.trail_username):b.a.error(r.error.details[0].message)},t.add_hitlist=function(e){e.preventDefault();var r=S.validate({username:t.state.trail_username,percent:t.state.hitlist_percent,min_payout:t.state.hitlist_min_payout},t.hitlist_schema);null===r.error?t.props.addToHitlist(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,t.state.trail_username,t.state.hitlist_percent,t.state.hitlist_min_payout):b.a.error(r.error.details[0].message)},t.logout=function(){t.props.logout(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type)},t.unvote=function(e,r){t.props.unvote(t.props.logged_user.username,t.props.logged_user.token,t.props.logged_user.type,e,r)},t.compareDates=function(t,e){return O()(t,"DD/MM/YY HH:mm").unix()<O()(e,"DD/MM/YY HH:mm").unix()?-1:1},t.render_votes=function(){var e=[{columnName:"date",compare:t.compareDates}];return a.a.createElement(k.a,{rows:t.renderRows(),columns:[{name:"date",title:"date (d/m/y)"},{name:"author",title:"author"},{name:"permlink",title:"permlink"},{name:"percentage",title:"percentage"},{name:"reason",title:"reason"},{name:"trailed",title:"voter"},{name:"unvote",title:" "}]},a.a.createElement(E.m,null),a.a.createElement(E.g,null),a.a.createElement(E.k,{defaultCurrentPage:0,pageSize:15}),a.a.createElement(E.n,{defaultSorting:[{columnName:"date",direction:"desc"}]}),a.a.createElement(E.i,{columnExtensions:e}),a.a.createElement(E.h,null),a.a.createElement(k.d,null),a.a.createElement(k.f,null),a.a.createElement(k.c,null),a.a.createElement(k.e,{showSortingControls:!0}),a.a.createElement(k.b,null))},t}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t=Object(v.a)(T().mark((function t(){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.fetchTrails(this.props.logged_user.username,this.props.logged_user.token,this.props.logged_user.type),this.props.fetchWhitelist(this.props.logged_user.username,this.props.logged_user.token,this.props.logged_user.type),this.props.fetchHitlist(this.props.logged_user.username,this.props.logged_user.token,this.props.logged_user.type),this.props.fetchExecutedVotes(this.props.logged_user.username,this.props.logged_user.token,this.props.logged_user.type);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"parse_vote_reason",value:function(t,e){try{t=JSON.parse(t)}catch(n){return{trailed:"error",reason:"error"}}if(e<3&&null!==t.trail){var r=t.trail;if(-1===e)return{trailed:r.trailed,reason:"counter upvote"};if(1===e)return{trailed:r.trailed,reason:"trailed downvote"};if(2===e)return{trailed:r.trailed,reason:"countered downvote"}}else if(3===e&&null!==t.hitlist)return{trailed:t.hitlist.author,reason:"hitlist"};return{trailed:"error",reason:"error"}}},{key:"renderRows",value:function(){for(var t=this,e=this.props.data.vote_history,r=[],n=function(n){var o="Unvote";!0===e[n].loading&&(o=a.a.createElement("div",{className:"sweet-loading"},a.a.createElement(x.SyncLoader,{sizeUnit:"px",size:4,color:"#ffffff",loading:!0})));var i=O.a.unix(e[n].date).format("DD/MM/YY HH:mm"),u=t.parse_vote_reason(e[n].reason,e[n].type);r.push({author:e[n].author,permlink:a.a.createElement("span",null,a.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://hive.blog/@"+e[n].author+"/"+e[n].permlink}," ",e[n].permlink)," ",a.a.createElement("br",null)," ",a.a.createElement("a",{style:{fontSize:"10px",position:"relative",top:"-10px"},rel:"noopener noreferrer",target:"_blank",href:"https://hiveblocks.com/@"+e[n].author+"/"+e[n].permlink}," view in hiveblocks")),percentage:"hitlist"!==u.reason?e[n].percentage/100+" %":e[n].percentage+" %",trailed:u.trailed,reason:u.reason,date:i,unvote:a.a.createElement("button",{className:"btn btn-primary",style:{marginLeft:"5px"},onClick:function(){return t.unvote(e[n].author,e[n].permlink)}},o)})},o=0;o<e.length;o++)n(o);return r}},{key:"render",value:function(){var t=this;return a.a.createElement("div",null,a.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark fixed-top"},a.a.createElement("a",{className:"navbar-brand",href:"#"},"Downvote Control Tool"),a.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarsExampleDefault","aria-controls":"navbarsExampleDefault","aria-expanded":"false","aria-label":"Toggle navigation"},a.a.createElement("span",{className:"navbar-toggler-icon"})),a.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarsExampleDefault"},a.a.createElement("ul",{className:"navbar-nav mr-auto"},a.a.createElement("a",{href:"#",onClick:this.logout},"logout")))),a.a.createElement("main",{role:"main",className:"container"},a.a.createElement("h3",null," Logged in as :  ",this.props.logged_user.username),a.a.createElement("p",null," Current voting power is : ",this.props.logged_user.voting_power," % ",a.a.createElement("br",null),"Current downvoting power is : ",this.props.logged_user.downvoting_power," %"),a.a.createElement("br",null),a.a.createElement("h4",null,"Global settings : "),a.a.createElement("form",{onSubmit:function(e){return t.save_settings(e)}},a.a.createElement("p",null,"Only use automatic downvote votes when power is above :",a.a.createElement("input",{type:"number",style:{width:"60px"},max:100,min:0,value:this.props.logged_user.dv_threshold,onChange:function(e){return t.props.setDvThreshold(e.target.value)}})," %"),a.a.createElement("p",null,"If my downvoting power reaches 0, use my voting power to downvote when my power is above :",a.a.createElement("input",{type:"number",style:{width:"60px"},max:100,min:0,value:this.props.logged_user.vp_threshold,onChange:function(e){return t.props.setVpThreshold(e.target.value)}})," %",a.a.createElement("br",null),a.a.createElement("small",null,"This setting also applies when upvoting to counter downvotes")),a.a.createElement("p",null,"Only downvote if the post has more than  :",a.a.createElement("input",{type:"number",style:{width:"60px"},min:0,value:this.props.logged_user.min_payout,onChange:function(e){return t.props.setMinPayout(e.target.value)}}),"$ of pending payouts.",a.a.createElement("br",null),a.a.createElement("small",null,"Posts with 0$ payout won't be downvoted")),a.a.createElement("p",null,a.a.createElement("input",{type:"checkbox",checked:!0===this.props.logged_user.revote,onChange:this.props.setRevote}),"   Re-vote if there is the opportunity to increase the upvote or downvote.",a.a.createElement("br",null),"This is useful to counter people that will do a small upvote to bait auto downvotes and then revote with a higher percentage.",a.a.createElement("button",{style:{float:"right"},onClick:function(e){return t.save_settings(e)},className:"btn btn-primary"},"Save settings"))),a.a.createElement("hr",null),a.a.createElement(_.a,{defaultActiveKey:"trail",id:"modal-tab",transition:!1},a.a.createElement(w.a,{eventKey:"trail",title:"Trail"},a.a.createElement("h5",null," Follow downvote trail "),a.a.createElement("p",null," Allows you to trail the downvotes of a specific account and thus downvote any content they downvote at a given rate relative to the size of their downvote."),a.a.createElement("p",null,"Example: If you choose to trail\xa0",a.a.createElement("b",null,"@abuse.control"),"\xa0with rating 0.75, then if\xa0\xa0",a.a.createElement("b",null,"@abuse.control"),"\xa0gives a ",a.a.createElement("b",null,"50%")," downvote to a post you will give the same post a ",a.a.createElement("b",null,"37.5%")," downvote."),a.a.createElement("form",{onSubmit:function(e){return t.add_trail(e,1)}},a.a.createElement("input",{type:"text",placeholder:"username",value:this.state.trail_username,onChange:function(e){return t.setState({trail_username:e.target.value})}}),a.a.createElement("input",{type:"number",min:.01,max:2.5,step:.01,style:{width:"60px"},value:this.state.trail_ratio,onChange:function(e){return t.setState({trail_ratio:e.target.value})}}),a.a.createElement("button",{className:"btn  btn-primary",onClick:function(e){return t.add_trail(e,1)}},"Add")),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Username"),a.a.createElement("th",{scope:"col"},"Ratio"),a.a.createElement("th",{scope:"col"},"Delete"))),a.a.createElement("tbody",null,this.render_positive_trails()))),a.a.createElement(w.a,{eventKey:"counter_upvotes",title:"Counter upvotes "},a.a.createElement("h5",null," Counter upvotes "),a.a.createElement("p",null," Used to counteract upvotes from specified accounts, meaning that you will downvote anything that they choose to upvote at a given rate relative to their upvote. "),a.a.createElement("p",null,"Example: If you choose to counter upvote\xa0",a.a.createElement("b",null,"@baduser"),"r\xa0with rating 1.2, then if\xa0",a.a.createElement("b",null,"@baduser"),"\xa0gives a 50% upvote to something, you will add a ",a.a.createElement("b",null,"60%"),"\xa0downvote to the same post or comment, while a rating of 0.5 would make you downvote ",a.a.createElement("b",null,"25%"),", etc.",a.a.createElement("br",null),a.a.createElement("br",null),"Note that if your settings would make you use more voting power than necessary downvotecontrol will adapt dynamically the vote percentage when voting, so that you counter the upvote fully."),a.a.createElement("form",{onSubmit:function(e){return t.add_trail(e,-1)}},a.a.createElement("input",{type:"text",placeholder:"username",value:this.state.trail_username,onChange:function(e){return t.setState({trail_username:e.target.value})}}),a.a.createElement("input",{type:"number",min:0,max:2.5,step:.1,style:{width:"60px"},value:this.state.trail_ratio,onChange:function(e){return t.setState({trail_ratio:e.target.value})}}),a.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return t.add_trail(e,-1)}},"Add")),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Username"),a.a.createElement("th",{scope:"col"},"Ratio"),a.a.createElement("th",{scope:"col"},"Delete"))),a.a.createElement("tbody",null,this.render_negative_trails()))),a.a.createElement(w.a,{eventKey:"counter_downvotes",title:"Counter downvotes "},a.a.createElement("h5",null," Counter downvotes "),a.a.createElement("p",null," Used to counteract downvotes from specified accounts, meaning that you will upvote anything that they choose to downvote at a given rate relative to their downvote. "),a.a.createElement("p",null,"Example: If you choose to counter downvote\xa0",a.a.createElement("b",null,"@baduser"),"r\xa0with rating 1.2, then if\xa0",a.a.createElement("b",null,"@baduser"),"\xa0gives a 50% downvote on something, you will do a ",a.a.createElement("b",null,"60%"),"\xa0upvote to the same post or comment, while a rating of 0.5 would make you upvote at ",a.a.createElement("b",null,"25%"),", etc.",a.a.createElement("br",null),a.a.createElement("br",null),"Note that if your settings would make you use more voting power than necessary downvotecontrol will adapt dynamically the vote percentage when voting, so that you counter the downvote fully."),a.a.createElement("form",{onSubmit:function(e){return t.add_trail(e,2)}},a.a.createElement("input",{type:"text",placeholder:"username",value:this.state.trail_username,onChange:function(e){return t.setState({trail_username:e.target.value})}}),a.a.createElement("input",{type:"number",min:0,max:2.5,step:.1,style:{width:"60px"},value:this.state.trail_ratio,onChange:function(e){return t.setState({trail_ratio:e.target.value})}}),a.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return t.add_trail(e,2)}},"Add")),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Username"),a.a.createElement("th",{scope:"col"},"Ratio"),a.a.createElement("th",{scope:"col"},"Delete"))),a.a.createElement("tbody",null,this.render_counter_downvote_trail()))),a.a.createElement(w.a,{eventKey:"counter_dv_blacklist",title:"Counter downvotes blacklist"},a.a.createElement("h5",null," Counter downvotes blacklist "),a.a.createElement("p",null,"Counter downvotes author blacklist, you won't counter the downvotes if the reciever of the vote is in this list. Separate each user by a comma ",a.a.createElement("br",null)),a.a.createElement("form",{onSubmit:this.add_counter_dv_blacklist},a.a.createElement("input",{type:"text",placeholder:"username",value:this.state.trail_username,onChange:function(e){return t.setState({trail_username:e.target.value})}}),a.a.createElement("button",{className:"btn btn-primary",onClick:this.add_counter_dv_blacklist},"Add")),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Username"),a.a.createElement("th",{scope:"col"},"Delete"))),a.a.createElement("tbody",null,this.render_counter_downvote_blacklist()))),a.a.createElement(w.a,{eventKey:"whitelist",title:"Whitelist"},a.a.createElement("h5",null," Whitelist "),a.a.createElement("p",null,"You won't downvote the users in this list"),a.a.createElement("form",{onSubmit:this.add_whitelist},a.a.createElement("input",{type:"text",placeholder:"username",value:this.state.trail_username,onChange:function(e){return t.setState({trail_username:e.target.value})}}),a.a.createElement("button",{className:"btn btn-primary",onClick:this.add_whitelist},"Add")),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Username"),a.a.createElement("th",{scope:"col"},"Delete"))),a.a.createElement("tbody",null,this.render_whitelist()))),a.a.createElement(w.a,{eventKey:"hitlist",title:"Hit list"},a.a.createElement("h5",null," Hist list "),a.a.createElement("p",null,"Downvote user using x% whenever his post or comment reaches more than y$ (the number of dollar is the one in the global settings) "),a.a.createElement("p",null,"For instance you can configure the tool to downvote user @milkinguser whenever he makes more than 5$ on a post or comment with a 30% downvote"),"Downvote",a.a.createElement("form",{onSubmit:function(){return t.add_hitlist}},a.a.createElement("input",{type:"text",placeholder:"username",value:this.state.trail_username,onChange:function(e){return t.setState({trail_username:e.target.value})}}),"With a",a.a.createElement("input",{type:"number",style:{width:"60px"},min:.1,max:100,value:this.state.hitlist_percent,onChange:function(e){return t.setState({hitlist_percent:e.target.value})}}),"% downvote if his post has a payout superior to",a.a.createElement("input",{type:"number",style:{width:"60px"},value:this.state.hitlist_min_payout,onChange:function(e){return t.setState({hitlist_min_payout:e.target.value})}})," $",a.a.createElement("button",{className:"btn btn-primary",style:{marginLeft:"5px"},onClick:this.add_hitlist},"Add")),a.a.createElement("table",{className:"table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{scope:"col"},"Username"),a.a.createElement("th",{scope:"col"},"downvote percent"),a.a.createElement("th",{scope:"col"},"Minimum payout"),a.a.createElement("th",{scope:"col"},"Delete"))),a.a.createElement("tbody",null,this.render_hitlist()))),a.a.createElement(w.a,{eventKey:"vote_history",title:"Vote history"},a.a.createElement("h5",null,"Vote history "),a.a.createElement("p",null,"Here's the history of all the votes you made though this tool"),this.render_votes()))))}}]),r}(a.a.Component),D=Object(u.b)((function(t){return{logged_user:t.user,data:t.data}}),{login:y.j,unvote:y.v,removeCounterDvBlacklist:y.m,logout:y.l,fetchLogin:y.g,fetchWhitelist:y.i,addToCounterDvBlacklist:y.a,fetchExecutedVotes:y.e,saveSettings:y.q,setRevote:y.t,fetchTrails:y.h,addToTrail:y.c,addToHitlist:y.b,removeHitlist:y.n,removeTrail:y.o,setDvThreshold:y.r,setVpThreshold:y.u,setMinPayout:y.s,addToWhitelist:y.d,removeWhitelist:y.p,fetchHitlist:y.f})(j);function N(){N=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(O){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof p?e:p,o=Object.create(a.prototype),i=new k(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=w(i,r);if(u){if(u===c)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===c)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(O){return{type:"throw",arg:O}}}t.wrap=s;var c={};function p(){}function h(){}function f(){}var d={};u(d,a,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(x([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=f.prototype=p.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var n;this._invoke=function(a,o){function i(){return new e((function(n,i){!function n(a,o,i,u){var s=l(t[a],t,o);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):e.resolve(p).then((function(t){c.value=t,i(c)}),(function(t){return n("throw",t,i,u)}))}u(s.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,c;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=f,u(y,"constructor",f),u(f,"constructor",h),h.displayName=u(f,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(_.prototype),u(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new _(s(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(y),u(y,i,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;E(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),c}},t}var C=r(598),I=function(t){Object(h.a)(r,t);var e=Object(f.a)(r);function r(){var t;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).login_refresh=function(e){if("http://localhost:4002"===e.origin||"https://back.downvotecontrol.com"===e.origin){var r={};try{r=JSON.parse(e.data),t.props.login(r)}catch(n){}}},t}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var t=Object(v.a)(N().mark((function t(){return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.parse(this.props.location.search),this.props.fetchLogin(),window.addEventListener("message",this.login_refresh);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return""===this.props.logged_user?a.a.createElement(g.a,null):a.a.createElement(D,null)}}]),r}(a.a.Component),A=Object(u.b)((function(t){return{logged_user:t.user}}),{login:y.j,fetchLogin:y.g})(I);b.a.configure({autoClose:2500});var H=function(t){Object(h.a)(r,t);var e=Object(f.a)(r);function r(){return Object(c.a)(this,r),e.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){return a.a.createElement(d.a,null,a.a.createElement(m.a,{path:"/",exact:!0,component:A}))}}]),r}(a.a.Component),F=r(604),G=Object(s.b)({user:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("LOGIN"===e.type)return console.log("called Login reducer==========",e.payload),e.payload;if("FETCH_LOGIN"===e.type)return e.payload;if("LOGOUT"===e.type)return"";if("SET_DV_THRESHOLD"===e.type){var r=F.cloneDeep(t);return r.dv_threshold=e.payload,r}if("SET_VP_THRESHOLD"===e.type){var n=F.cloneDeep(t);return n.vp_threshold=e.payload,n}if("SET_PAYOUT"===e.type){var a=F.cloneDeep(t);return a.min_payout=e.payload,a}if("SET_REVOTE"===e.type){var o=F.cloneDeep(t);return void 0===t.revote?o.revote=!0:o.revote=!t.revote,o}return t},data:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{negative_trail:"",positive_trail:"",counter_trail:"",whitelist:"",hitlist:"",vote_history:"",counter_dv_blacklist:""},e=arguments.length>1?arguments[1]:void 0;if("FETCH_TRAILS"===e.type){var r=F.cloneDeep(t);return r.positive_trail=e.payload.filter((function(t){return 1===t.type})),r.negative_trail=e.payload.filter((function(t){return-1===t.type})),r.counter_trail=e.payload.filter((function(t){return 2===t.type})),r}if("ADD_TRAIL"===e.type){var n=F.cloneDeep(t),a=e.payload;return 1===a.trail_type?n.positive_trail.push(e.payload):-1===a.trail_type?n.negative_trail.push(e.payload):2===a.trail_type&&n.counter_trail.push(e.payload),n}if("REMOVE_TRAIL"===e.type){var o=F.cloneDeep(t),i=e.payload;return 1===i.trail_type?o.positive_trail=t.positive_trail.filter((function(t){return t.trailed!==i.trailed})):-1===i.trail_type?o.negative_trail=t.negative_trail.filter((function(t){return t.trailed!==i.trailed})):2===i.trail_type&&(o.counter_trail=t.counter_trail.filter((function(t){return t.trailed!==i.trailed}))),o}if("FETCH_WHITELIST"===e.type){var u=F.cloneDeep(t);return u.whitelist=e.payload,u}if("FETCH_COUNTER_DV_BLACKLIST"===e.type){var s=F.cloneDeep(t);return s.counter_dv_blacklist=e.payload,s}if("ADD_WHITELIST"===e.type){var l=F.cloneDeep(t);return l.whitelist.push(e.payload),l}if("ADD_COUNTER_DV_BLACKLIST"===e.type){var c=F.cloneDeep(t);return c.counter_dv_blacklist.push(e.payload),c}if("ADD_HITLIST"===e.type){var p=F.cloneDeep(t);return p.hitlist.push(e.payload),p}if("REMOVE_WHITELIST"===e.type){var h=F.cloneDeep(t);return h.whitelist=t.whitelist.filter((function(t){return t.trailed!==e.payload.trailed})),h}if("REMOVE_COUNTER_DV_BLACKLIST"===e.type){var f=F.cloneDeep(t);return f.counter_dv_blacklist=t.counter_dv_blacklist.filter((function(t){return t.trailed!==e.payload.trailed})),f}if("FETCH_HITLIST"===e.type){var d=F.cloneDeep(t);return d.hitlist=e.payload,d}if("REMOVE_HITLIST"===e.type){var m=F.cloneDeep(t);return m.hitlist=t.hitlist.filter((function(t){return t.author!==e.payload.author})),m}if("FETCH_VOTES"===e.type){var v=F.cloneDeep(t);return v.vote_history=e.payload.map((function(t){return t.loading=!1,t})),v}if("UNVOTE"===e.type){var y=F.cloneDeep(t);return y.vote_history=t.vote_history.filter((function(t){return t.author!==e.payload.author&&t.permlink!==e.payload.permlink})),y}if("UNVOTING"===e.type){for(var g=F.cloneDeep(t),_=0;_<g.vote_history.length;_++){var w=g.vote_history[_];w.author===e.payload.author&&w.permlink===e.payload.permlink&&(g.vote_history[_].loading=!0)}return g}if("UNVOTE_FAIL"===e.type){for(var b=F.cloneDeep(t),E=0;E<b.vote_history.length;E++){var k=b.vote_history[E];k.author===e.payload.author&&k.permlink===e.payload.permlink&&(b.vote_history[E].loading=!1)}return b}return t}}),P=Object(s.c)(G,Object(s.a)(l.a));i.a.render(a.a.createElement(u.a,{store:P},a.a.createElement(H,null)),document.querySelector("#root"))}},[[277,1,2]]]);
//# sourceMappingURL=main.1b7db3ae.chunk.js.map
